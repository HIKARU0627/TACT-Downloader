# 🎓 TACT Resource Recursive Downloader

[TACT (Sakai)](https://tact.ac.thers.ac.jp/) から  
授業資料を **フォルダ構造を保ったまま一括ダウンロード** できる Chrome 拡張機能です。

---

## 🚀 主な機能

- 🔄 **再帰的ダウンロード**  
  フォルダを自動的にたどり、サブフォルダ内の全てのファイルをまとめて取得します。

- 🏫 **授業名をルートフォルダに保存**  
  例：  
  ```
  確率統計及び演習(2025年度秋１期/月３限,月４限)/
  ├── 第1回/
  │   ├── 資料.pdf
  │   └── スライド.pptx
  └── 第2回/
      └── 課題.zip
  ```

- 🖱️ **右クリックメニューから実行可能**  
  ページを右クリック → 「TACTの資料をダウンロード」で即実行。

- 🔒 **認証セッションを維持**  
  実際にブラウザタブを開いてアクセスするため、TACTのログイン状態をそのまま利用できます。

---

## 🧩 インストール方法

1. このリポジトリをクローンまたはZIPでダウンロード  
   ```bash
   git clone https://github.com/HIKARU0627/TACT-Downloader.git
   ```

2. Chromeで `chrome://extensions/` を開く  
3. 右上の **「デベロッパーモード」** を ON にする  
4. 「**パッケージ化されていない拡張機能を読み込む**」をクリックし、このフォルダを選択  
5. 拡張機能が一覧に追加されれば準備完了！

---

## 🧭 使い方

### 1️⃣ 授業トップページから開く
`https://tact.ac.thers.ac.jp/portal/site/n_2025_XXXXXXX/`  
このページで拡張アイコンをクリック or 右クリック → 「TACTの資料をダウンロード」

➡ 新しいタブでリソースページ（`/access/content/group/...`）が開きます。

### 2️⃣ リソースページでダウンロード
`https://tact.ac.thers.ac.jp/access/content/group/n_2025_XXXXXXX/`  
ここで再度アイコンをクリック or 右クリック → 「TACTの資料をダウンロード」  
➡ 全ての資料が授業名フォルダ内に自動保存されます。

---

## ⚙️ ファイル構成

```
tact-resource-downloader/
├── downloader.js   # 拡張のメインロジック（再帰処理、DL管理、右クリックメニュー）
├── manifest.json   # Chrome拡張の定義ファイル
├── content.js      # 空（自動実行しない）
└── icon.png        # アイコン画像
```

---

## 🛠️ 権限

この拡張機能は次の Chrome 権限を使用します：

| 権限 | 用途 |
|------|------|
| `downloads` | ファイルを自動保存するため |
| `scripting` | ページ内のDOM解析のため |
| `tabs` | フォルダページを開いて解析するため |
| `contextMenus` | 右クリックメニューを追加するため |
| `activeTab` | 現在のページでスクリプトを実行するため |
